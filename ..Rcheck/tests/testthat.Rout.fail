
R version 4.5.1 (2025-06-13) -- "Great Square Root"
Copyright (C) 2025 The R Foundation for Statistical Computing
Platform: x86_64-pc-linux-gnu

R is free software and comes with ABSOLUTELY NO WARRANTY.
You are welcome to redistribute it under certain conditions.
Type 'license()' or 'licence()' for distribution details.

R is a collaborative project with many contributors.
Type 'contributors()' for more information and
'citation()' on how to cite R or R packages in publications.

Type 'demo()' for some demos, 'help()' for on-line help, or
'help.start()' for an HTML browser interface to help.
Type 'q()' to quit R.

> library(testthat)
> library(logthis)
> 
> test_check("logthis")
2025-09-26 13:43:41.145207 [TEST] Testing things.
2025-09-26 13:43:41.145207 [TEST] Testing things.
[ FAIL 15 | WARN 2 | SKIP 0 | PASS 48 ]

══ Failed tests ════════════════════════════════════════════════════════════════
── Failure ('test-log_event_levels.R:23:3'): log_event_level() rounds `level_number` ──
{
    ...
} not equal to 6.
Attributes: < Modes: list, NULL >
Attributes: < Lengths: 1, 0 >
Attributes: < names for target but not for current >
Attributes: < current is not list-like >
target is level_number, current is numeric
── Failure ('test-log_event_levels.R:38:3'): log_event_level() produces correct type. ──
attr(TEST, "level_number") not equal to 50.
Attributes: < Modes: list, NULL >
Attributes: < Lengths: 1, 0 >
Attributes: < names for target but not for current >
Attributes: < current is not list-like >
target is level_number, current is numeric
── Failure ('test-log_event_levels.R:47:3'): log event level function produces correct type. ──
attributes(test_event)$names not equivalent to c("message", "time", "level", "level_number", "custom_element").
Lengths differ: 6 is not 5
── Failure ('test-log_event_levels.R:59:3'): log event level function produces correct type. ──
test_event$level not equal to "TEST".
target is NULL, current is character
── Failure ('test-log_event_levels.R:61:3'): log event level function produces correct type. ──
test_event$level_number not equal to 50.
Attributes: < Modes: list, NULL >
Attributes: < Lengths: 1, 0 >
Attributes: < names for target but not for current >
Attributes: < current is not list-like >
target is level_number, current is numeric
── Error ('test-logger.R:29:5'): logger print method shows configuration ───────
Error in `make_level_number(lower)`: could not find function "make_level_number"
Backtrace:
    ▆
 1. ├─... %>% with_limits(lower = NOTE, upper = ERROR) at test-logger.R:29:5
 2. ├─logthis::with_limits(., lower = NOTE, upper = ERROR)
 3. └─logthis:::with_limits.logger(., lower = NOTE, upper = ERROR)
── Failure ('test-logger.R:64:5'): logger()() can map receivers to event and return event for chaining ──
attr(result, "receiver_results") not equal to list(test_event, NULL).
target is NULL, current is list
── Failure ('test-logger.R:75:5'): logger()() can map receivers to event and return event for chaining ──
attr(result2, "receiver_results") not equal to list(test_event, test_event).
target is NULL, current is list
── Error ('test-logger.R:159:5'): normalize_limit() can normalize limits ───────
Error in `normalize_limit(1)`: could not find function "normalize_limit"
Backtrace:
    ▆
 1. └─testthat::expect_equal(normalize_limit(1), 1) at test-logger.R:159:5
 2.   └─testthat::quasi_label(enquo(object), label, arg = "object")
 3.     └─rlang::eval_bare(expr, quo_get_env(quo))
── Error ('test-logger.R:176:5'): with_limits() can guard logger, lower and upper types & values ──
Error in `make_level_number(lower)`: could not find function "make_level_number"
Backtrace:
    ▆
 1. ├─logger() %>% with_limits(0, 120) at test-logger.R:176:5
 2. ├─logthis::with_limits(., 0, 120)
 3. └─logthis:::with_limits.logger(., 0, 120)
── Failure ('test-logger.R:237:5'): logger chaining works correctly ────────────
attr(result, "receiver_results") not equal to list(NULL).
target is NULL, current is list
── Failure ('test-logger.R:256:5'): scope-based logger enhancement works ───────
attr(result, "receiver_results") not equal to list(test_event, NULL).
target is NULL, current is list
── Error ('test-logger.R:262:5'): two-level filtering works correctly ──────────
Error in `make_level_number(lower)`: could not find function "make_level_number"
Backtrace:
    ▆
 1. ├─... %>% with_limits(lower = NOTE, upper = HIGHEST) at test-logger.R:262:5
 2. ├─logthis::with_limits(., lower = NOTE, upper = HIGHEST)
 3. └─logthis:::with_limits.logger(., lower = NOTE, upper = HIGHEST)
── Error ('test-logger.R:288:9'): with_limits() returns type `logger` ──────────
Error in `make_level_number(lower)`: could not find function "make_level_number"
Backtrace:
    ▆
 1. ├─testthat::expect_s3_class(...) at test-logger.R:287:5
 2. │ └─testthat::quasi_label(enquo(object), arg = "object")
 3. │   └─rlang::eval_bare(expr, quo_get_env(quo))
 4. ├─logger() %>% with_limits() at test-logger.R:288:9
 5. ├─logthis::with_limits(.)
 6. └─logthis:::with_limits.logger(.)
── Failure ('test-receivers.R:23:3'): to_console()() returns NULL ──────────────
to_console()(test_event) is not NULL

`actual` is an S3 object of class <TEST/log_event>, a list
`expected` is NULL

[ FAIL 15 | WARN 2 | SKIP 0 | PASS 48 ]
Error: Test failures
Execution halted
